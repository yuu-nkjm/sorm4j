package org.nkjmlab.sorm4j.internal.result;

import static org.assertj.core.api.Assertions.*;
import org.junit.jupiter.api.Test;
import org.nkjmlab.sorm4j.Sorm;
import org.nkjmlab.sorm4j.result.TableMetaData;
import org.nkjmlab.sorm4j.test.common.Guest;
import org.nkjmlab.sorm4j.test.common.SormTestUtils;

class TableMetaDataImplTest {

  @Test
  void testTableMetaDataImpl() {
    Sorm sorm = SormTestUtils.createSormWithNewContextAndTables();
    TableMetaData metaData = sorm.getTableMetaData(Guest.class);

    assertThat(metaData.toString()).contains("GUESTS");
    assertThat(metaData.getAutoGeneratedColumns().size()).isEqualTo(1);

  }

}
